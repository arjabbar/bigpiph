// Generated by CoffeeScript 1.7.0
(function() {
  $(document).ready(function() {
    var $footer, $hideVideoButton, $showVideoButton, SHOW_VIDEO_BUTTON_MARGIN, height, screen, width;
    $(document).foundation();
    screen = window.screen;
    height = window.innerHeight;
    width = window.innerWidth;
    $('.front-page-container, .footer-container').height(height).width(width);
    SHOW_VIDEO_BUTTON_MARGIN = 20;
    $showVideoButton = $('.show-video-button');
    $hideVideoButton = $('.hide-video-button');
    $showVideoButton.css('top', "" + ((height - $showVideoButton.height()) - SHOW_VIDEO_BUTTON_MARGIN) + "px");
    $footer = $('.footer-container');
    window.scrollToTop = $.smoothScroll.bind(window, {
      scrollTarget: $('.front-page-container')
    });
    $('.left-off-canvas-toggle').on('click', function(e) {
      return $('.left-off-canvas-menu').show();
    });
    $('.show-video-button').on('click touchdown', function(e) {
      return $.smoothScroll({
        scrollTarget: $('.footer-container')
      });
    });
    $('.hide-video-button, .left-off-canvas-toggle').on('click touchdown', function(e) {
      return $.smoothScroll({
        scrollTarget: $('front-page-container')
      });
    });
    $('.logo').on('click', scrollToTop);
    $(this).on('scroll', function(e) {
      if (window.scrollY > (height / 2)) {
        $('.footer-container').addClass('active');
        return $('.front-page-container').removeClass('active');
      } else {
        $('.footer-container').removeClass('active');
        return $('.front-page-container').addClass('active');
      }
    });
    window.setTimeout(function() {
      return $('body').css('opacity', 1).css('display', 'initial');
    }, 500);
    $('.inner-wrap').on('transitionend otransitionend webkitTransitionEnd oTransitionEnd', function(e) {
      if ($(e.target).hasClass('inner-wrap out')) {
        $('.newsletter-signup input').focus();
        $('.left-off-canvas-menu').hide();
      }
      if ($(e.target).hasClass('inner-wrap')) {
        return $(e.target).toggleClass('out');
      }
    });
    $("#mc-embedded-subscribe-form").on('keydown', function(e) {
      if (e.keyCode === 13) {
        return $(this).submit();
      }
    });
    return $("#mc-embedded-subscribe-form").submit(function() {
      var url;
      url = $(this).attr('action');
      $.ajax({
        type: "POST",
        url: url,
        data: $(this).serialize(),
        success: function() {
          return alert(data);
        }
      });
      $('#thank-you-message').fadeIn();
      $(this).hide();
      return false;
    });
  });

}).call(this);
